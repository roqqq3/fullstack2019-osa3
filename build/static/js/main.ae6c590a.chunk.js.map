{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","props","react_default","a","createElement","onSubmit","handleFilterChange","value","newFilter","onChange","PersonForm","addName","newName","handleNameChange","newNumber","handleNumberChange","type","Persons","persons","filter","i","name","toLowerCase","includes","map","key","id","number","onClick","handlePersonRemove","services_persons","axios","get","then","response","data","newObject","post","delete","concat","put","Notification","_ref","successMessage","errorMessage","className","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setNewFilter","_useState9","_useState10","setErrorMessage","_useState11","_useState12","setSuccessMessage","useEffect","personService","initialPersons","showSuccessMessage","message","setTimeout","showErrorMessage","components_Notification","components_Filter","event","target","components_PersonForm","preventDefault","found","find","undefined","window","confirm","returnedPerson","components_Persons","toRemove","toString","removed","catch","error","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.ae6c590a.chunk.js","sourcesContent":["import React from 'react'\r\nconst Filter = (props) => {\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={props.handleFilterChange}>\r\n        <div>\r\n          rajaa näytettäviä: <input value={props.newFilter} onChange={props.handleFilterChange}/>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n\r\n  return (\r\n    <form onSubmit={props.addName}>\r\n            <div>\r\n              nimi: <input value={props.newName} onChange={props.handleNameChange}/>\r\n            </div>\r\n            <div>\r\n              numero: <input value={props.newNumber} onChange={props.handleNumberChange}/>\r\n            </div>\r\n            <div>\r\n              <button type=\"submit\">lisää</button>\r\n            </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Persons = (props) => {\r\n  return (\r\n    <div>\r\n      {props.persons\r\n        .filter(i => i.name.toLowerCase().includes(props.newFilter.toLowerCase()))\r\n        .map(i => \r\n          <li key={i.id}>\r\n            {i.name} {i.number}\r\n            <button type='submit' onClick={props.handlePersonRemove} value={i.id}>\r\n              poista\r\n            </button>\r\n          </li>)\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Persons","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = (newObject) => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n  const request = axios.delete(`http://localhost:3001/persons/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`http://localhost:3001/persons/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, remove, update }","import React from 'react'\r\n\r\nconst Notification = ({ successMessage, errorMessage }) => {\r\n  if (successMessage !== null) {\r\n    return (\r\n      <div className=\"successMessage\">\r\n        {successMessage}\r\n      </div>\r\n    )\r\n  } else if (errorMessage !== null) {\r\n    return (\r\n      <div className=\"errorMessage\">\r\n        {errorMessage}\r\n      </div>\r\n    )\r\n  } else {\r\n    return null\r\n  }\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n\n  const [ persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [ errorMessage, setErrorMessage ] = useState(null)\n  const [ successMessage, setSuccessMessage ] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n        .then(initialPersons => {\n          setPersons(initialPersons)\n        })\n  }, [])\n\n  const handleFilterChange = (event) => {\n    setNewFilter(event.target.value)\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handlePersonRemove = (event) => {\n    const toRemove = persons.find(i => i.id.toString() === event.target.value.toString())\n    if (window.confirm(`Poistetaanko ${toRemove.name}?`)) {\n      personService\n        .remove(event.target.value)\n          .then(removed => {\n            setPersons(persons.filter(i => i.id !== toRemove.id))\n            showSuccessMessage(`Poistettiin ${toRemove.name}`)\n          })\n          .catch(error => {\n            showErrorMessage(`Henkilö ${toRemove.name} oli jo poistettu`)\n            setPersons(persons.filter(i => i.id !== toRemove.id))\n          })\n    }\n  }\n\n  const showSuccessMessage = (message) => {\n    setSuccessMessage(message)\n    setTimeout(() => {\n      setSuccessMessage(null)\n    }, 5000)\n  }\n\n  const showErrorMessage = (message) => {\n    setErrorMessage(message)\n    setTimeout(() => {\n      setErrorMessage(null)\n    }, 5000)\n  }\n\n  const changePersonNumber = (id) => {\n    const newPerson = {\n      name: newName,\n      number: newNumber\n    }\n    personService\n      .update(id, newPerson)\n        .then(returnedPerson => {\n          setPersons(persons.map(i => i.id === id ? returnedPerson : i))\n          setNewName('')\n          setNewNumber('')\n        })\n  }\n\n  const addName = (event) => {\n    event.preventDefault()\n    const found = persons.find(i => i.name === newName)\n    if (found !== undefined) {\n      if (window.confirm(`${newName} on jo luettelossa, korvataanko vanha numero uudella?`)) {\n        showSuccessMessage(`Vaihdettiin puhelinnumero henkilöltä ${newName}`)\n        changePersonNumber(found.id)\n      }\n    } else {\n      const newPerson = {\n        name: newName,\n        number: newNumber\n      }\n      personService\n        .create(newPerson)\n          .then(returnedPerson => {\n            showSuccessMessage(`Lisättiin ${newName}`)\n            setNewName('')\n            setNewNumber('')\n            setPersons(persons.concat(returnedPerson))\n          })\n    }\n  }\n\n  return (\n    <div>\n      <h2>Puhelinluettelo</h2>\n      <Notification \n        errorMessage={errorMessage}\n        successMessage={successMessage}\n      />\n      <Filter \n        handleFilterChange={handleFilterChange} \n        newFilter={newFilter}\n      />\n      <h3>Lisää numero</h3>\n      <PersonForm \n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n        newName={newName}\n        newNumber={newNumber}\n        addName={addName}\n      />\n      <h3>Numerot</h3>\n      <Persons\n        persons={persons}\n        newFilter={newFilter}\n        handlePersonRemove={handlePersonRemove}\n      />\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}