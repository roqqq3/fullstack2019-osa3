{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","props","react_default","a","createElement","onSubmit","handleFilterChange","value","newFilter","onChange","PersonForm","addName","newName","handleNameChange","newNumber","handleNumberChange","type","Persons","persons","filter","i","name","toLowerCase","includes","map","key","id","number","onClick","handlePersonRemove","baseUrl","services_persons","axios","get","then","response","data","newObject","post","delete","concat","put","Notification","_ref","successMessage","errorMessage","className","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setNewFilter","_useState9","_useState10","setErrorMessage","_useState11","_useState12","setSuccessMessage","useEffect","personService","initialPersons","showSuccessMessage","message","setTimeout","showErrorMessage","components_Notification","components_Filter","event","target","components_PersonForm","preventDefault","found","find","undefined","window","confirm","returnedPerson","catch","error","components_Persons","toRemove","toString","removed","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.41d9b4d1.chunk.js","sourcesContent":["import React from 'react'\r\nconst Filter = (props) => {\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={props.handleFilterChange}>\r\n        <div>\r\n          rajaa näytettäviä: <input value={props.newFilter} onChange={props.handleFilterChange}/>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n\r\n  return (\r\n    <form onSubmit={props.addName}>\r\n            <div>\r\n              nimi: <input value={props.newName} onChange={props.handleNameChange}/>\r\n            </div>\r\n            <div>\r\n              numero: <input value={props.newNumber} onChange={props.handleNumberChange}/>\r\n            </div>\r\n            <div>\r\n              <button type=\"submit\">lisää</button>\r\n            </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Persons = (props) => {\r\n  return (\r\n    <div>\r\n      {props.persons\r\n        .filter(i => i.name.toLowerCase().includes(props.newFilter.toLowerCase()))\r\n        .map(i => \r\n          <li key={i.id}>\r\n            {i.name} {i.number}\r\n            <button type='submit' onClick={props.handlePersonRemove} value={i.id}>\r\n              poista\r\n            </button>\r\n          </li>)\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Persons","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = (newObject) => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, remove, update }","import React from 'react'\r\n\r\nconst Notification = ({ successMessage, errorMessage }) => {\r\n  if (successMessage !== null) {\r\n    return (\r\n      <div className=\"successMessage\">\r\n        {successMessage}\r\n      </div>\r\n    )\r\n  } else if (errorMessage !== null) {\r\n    return (\r\n      <div className=\"errorMessage\">\r\n        {errorMessage}\r\n      </div>\r\n    )\r\n  } else {\r\n    return null\r\n  }\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n\n  const [ persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [ errorMessage, setErrorMessage ] = useState(null)\n  const [ successMessage, setSuccessMessage ] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n        .then(initialPersons => {\n          setPersons(initialPersons)\n        })\n  }, [])\n\n  const handleFilterChange = (event) => {\n    setNewFilter(event.target.value)\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handlePersonRemove = (event) => {\n    const toRemove = persons.find(i => i.id.toString() === event.target.value.toString())\n    if (window.confirm(`Poistetaanko ${toRemove.name}?`)) {\n      personService\n        .remove(event.target.value)\n          .then(removed => {\n            setPersons(persons.filter(i => i.id !== toRemove.id))\n            showSuccessMessage(`Poistettiin ${toRemove.name}`)\n          })\n          .catch(error => {\n            showErrorMessage(`Henkilö ${toRemove.name} oli jo poistettu`)\n            setPersons(persons.filter(i => i.id !== toRemove.id))\n          })\n    }\n  }\n\n  const showSuccessMessage = (message) => {\n    setSuccessMessage(message)\n    setTimeout(() => {\n      setSuccessMessage(null)\n    }, 5000)\n  }\n\n  const showErrorMessage = (message) => {\n    setErrorMessage(message)\n    setTimeout(() => {\n      setErrorMessage(null)\n    }, 5000)\n  }\n\n  const changePersonNumber = (id) => {\n    const newPerson = {\n      name: newName,\n      number: newNumber\n    }\n    personService\n      .update(id, newPerson)\n        .then(returnedPerson => {\n          setPersons(persons.map(i => i.id === id ? returnedPerson : i))\n          setNewName('')\n          setNewNumber('')\n        })\n  }\n\n  const addName = (event) => {\n    event.preventDefault()\n    const found = persons.find(i => i.name === newName)\n    if (found !== undefined) {\n      if (window.confirm(`${newName} on jo luettelossa, korvataanko vanha numero uudella?`)) {\n        showSuccessMessage(`Vaihdettiin puhelinnumero henkilöltä ${newName}`)\n        changePersonNumber(found.id)\n      }\n    } else {\n      const newPerson = {\n        name: newName,\n        number: newNumber\n      }\n      personService\n        .create(newPerson)\n          .then(returnedPerson => {\n            showSuccessMessage(`Lisättiin ${newName}`)\n            setNewName('')\n            setNewNumber('')\n            setPersons(persons.concat(returnedPerson))\n          })\n          .catch(error => {\n            showErrorMessage(error.response.data.error)\n          })\n    }\n  }\n\n  return (\n    <div>\n      <h2>Puhelinluettelo</h2>\n      <Notification \n        errorMessage={errorMessage}\n        successMessage={successMessage}\n      />\n      <Filter \n        handleFilterChange={handleFilterChange} \n        newFilter={newFilter}\n      />\n      <h3>Lisää numero</h3>\n      <PersonForm \n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n        newName={newName}\n        newNumber={newNumber}\n        addName={addName}\n      />\n      <h3>Numerot</h3>\n      <Persons\n        persons={persons}\n        newFilter={newFilter}\n        handlePersonRemove={handlePersonRemove}\n      />\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}